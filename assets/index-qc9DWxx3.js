const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ListPage-p1zl4kyr.js","assets/chakra-ui-DWnHQl4o.js","assets/framer-motion-D_CV7aB0.js","assets/router-1Oqxu31X.js","assets/GachaPage-xavmhH-h.js","assets/confetti-BSjof-hN.js"])))=>i.map(i=>d[i]);
import{b as e,r as t,j as r,e as o,C as n,c as a,B as s,S as i}from"./chakra-ui-DWnHQl4o.js";import{B as c,R as l,a as d}from"./router-1Oqxu31X.js";import"./framer-motion-D_CV7aB0.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var u,m={};var f=function(){if(u)return m;u=1;var t=e();return m.createRoot=t.createRoot,m.hydrateRoot=t.hydrateRoot,m}();const p={},y=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=e?.nonce||e?.getAttribute("nonce");n=t.map(e=>{if((e=function(e){return"/doldol/"+e}(e))in p)return;p[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,r&&n.setAttribute("nonce",r),document.head.appendChild(n),t?new Promise((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}),o=Promise.all(n.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))}var n;function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},h=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),E=e=>{if(0===e.length)throw new Error("Cannot select from empty array");return e[Math.floor(Math.random()*e.length)]},v=e=>{const t=[...e];for(let r=t.length-1;r>0;r--){const e=Math.floor(Math.random()*(r+1));[t[r],t[e]]=[t[e],t[r]]}return t},g="doldol-favorites",A=e=>{try{localStorage.setItem(g,JSON.stringify(e))}catch(t){}},I={currentItems:[],favorites:[],isLoading:!0},F=(e,t)=>{switch(t.type){case"ADD_ITEM":return t.payload.trim()?{...e,currentItems:[...e.currentItems,(r=t.payload,{id:h(),text:r.trim(),createdAt:Date.now()})]}:e;case"REMOVE_ITEM":return{...e,currentItems:e.currentItems.filter(e=>e.id!==t.payload)};case"CLEAR_ITEMS":return{...e,currentItems:[]};case"LOAD_ITEMS":return{...e,currentItems:t.payload};case"ADD_FAVORITE":const o=[...e.favorites,t.payload];return A(o),{...e,favorites:o};case"REMOVE_FAVORITE":const n=e.favorites.filter(e=>e.id!==t.payload);return A(n),{...e,favorites:n};case"LOAD_FAVORITES":return{...e,favorites:t.payload,isLoading:!1};case"SET_LOADING":return{...e,isLoading:t.payload};default:return e}var r},_=t.createContext(void 0),j=({children:e})=>{const[o,n]=t.useReducer(F,I);t.useEffect(()=>{const e=(()=>{try{const e=localStorage.getItem(g);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(e=>e&&"string"==typeof e.id&&"string"==typeof e.name&&Array.isArray(e.items)&&"number"==typeof e.createdAt):[]}catch(e){return[]}})();n({type:"LOAD_FAVORITES",payload:e})},[]);const a={state:o,dispatch:n,addItem:e=>{n({type:"ADD_ITEM",payload:e})},removeItem:e=>{n({type:"REMOVE_ITEM",payload:e})},clearItems:()=>{n({type:"CLEAR_ITEMS"})},loadItems:e=>{n({type:"LOAD_ITEMS",payload:e})},addFavorite:(e,t)=>{const r={id:h(),name:e.trim(),items:[...t],createdAt:Date.now()};n({type:"ADD_FAVORITE",payload:r})},removeFavorite:e=>{n({type:"REMOVE_FAVORITE",payload:e})}};return r.jsx(_.Provider,{value:a,children:e})},x=()=>{const e=t.useContext(_);if(void 0===e)throw new Error("useApp must be used within an AppProvider");return e},D=t.lazy(()=>y(()=>import("./ListPage-p1zl4kyr.js"),__vite__mapDeps([0,1,2,3]))),O=t.lazy(()=>y(()=>import("./GachaPage-xavmhH-h.js"),__vite__mapDeps([4,1,2,5,3]))),R=()=>r.jsx(a,{h:"100vh",bg:"#F7F7F7",children:r.jsx(s,{textAlign:"center",children:r.jsx(i,{size:"xl",color:"#FF6B6B",thickness:"4px"})})}),S=o({fonts:{heading:'"Noto Sans KR", sans-serif',body:'"Noto Sans KR", sans-serif'},colors:{brand:{50:"#FFE8E8",100:"#FFBDBD",200:"#FF9292",300:"#FF6B6B",400:"#FF4444",500:"#FF1D1D",600:"#E60000",700:"#B30000",800:"#800000",900:"#4D0000"}}});function L(){return r.jsx(n,{theme:S,children:r.jsx(j,{children:r.jsx(c,{basename:"/doldol",children:r.jsx(t.Suspense,{fallback:r.jsx(R,{}),children:r.jsxs(l,{children:[r.jsx(d,{path:"/",element:r.jsx(D,{})}),r.jsx(d,{path:"/gacha",element:r.jsx(O,{})})]})})})})})}f.createRoot(document.getElementById("root")).render(r.jsx(t.StrictMode,{children:r.jsx(L,{})}));export{E as a,v as s,x as u};
